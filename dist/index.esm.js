import e,{createContext as t,useState as n,useEffect as r,useMemo as a,useContext as i,Children as o,cloneElement as s}from"react";import{Button as l,Flex as c,Icon as u,Stack as p}from"@chakra-ui/react";const g={currentPage:1,isDisabled:!1,jumpSize:4},d=0,f=-1;function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}var b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var y="__lodash_hash_undefined__",_=9007199254740991,m="[object Arguments]",j="[object Function]",O="[object GeneratorFunction]",P=/^\[object .+?Constructor\]$/,D="object"==h(b)&&b&&b.Object===Object&&b,C="object"==("undefined"==typeof self?"undefined":h(self))&&self&&self.Object===Object&&self,w=D||C||Function("return this")();function k(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!=t)return function(e,t,n,r){var a=e.length,i=n+(r?1:-1);for(;r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}(e,x,n);var r=n-1,a=e.length;for(;++r<a;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function E(e,t,n){for(var r=-1,a=e?e.length:0;++r<a;)if(n(t,e[r]))return!0;return!1}function S(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function x(e){return e!=e}function A(e,t){return e.has(t)}function I(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var L,z=Array.prototype,$=Function.prototype,N=Object.prototype,M=w["__core-js_shared__"],W=(L=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",F=$.toString,B=N.hasOwnProperty,T=N.toString,G=RegExp("^"+F.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=w.Symbol,J=N.propertyIsEnumerable,q=z.splice,H=R?R.isConcatSpreadable:void 0,K=Math.max,Q=oe(w,"Map"),U=oe(w,"Set"),V=oe(Object,"create");function X(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Y(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Z(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ee(e){var t=-1,n=e?e.length:0;for(this.__data__=new Z;++t<n;)this.add(e[t])}function te(e,t){for(var n,r,a=e.length;a--;)if((n=e[a][0])===(r=t)||n!=n&&r!=r)return a;return-1}function ne(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=se),a||(a=[]);++i<o;){var s=e[i];t>0&&n(s)?t>1?ne(s,t-1,n,r,a):S(a,s):r||(a[a.length]=s)}return a}function re(e){if(!he(e)||(t=e,W&&W in t))return!1;var t,n=fe(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?G:P;return n.test(function(e){if(null!=e){try{return F.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}X.prototype.clear=function(){this.__data__=V?V(null):{}},X.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},X.prototype.get=function(e){var t=this.__data__;if(V){var n=t[e];return n===y?void 0:n}return B.call(t,e)?t[e]:void 0},X.prototype.has=function(e){var t=this.__data__;return V?void 0!==t[e]:B.call(t,e)},X.prototype.set=function(e,t){return this.__data__[e]=V&&void 0===t?y:t,this},Y.prototype.clear=function(){this.__data__=[]},Y.prototype.delete=function(e){var t=this.__data__,n=te(t,e);return!(n<0)&&(n==t.length-1?t.pop():q.call(t,n,1),!0)},Y.prototype.get=function(e){var t=this.__data__,n=te(t,e);return n<0?void 0:t[n][1]},Y.prototype.has=function(e){return te(this.__data__,e)>-1},Y.prototype.set=function(e,t){var n=this.__data__,r=te(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Z.prototype.clear=function(){this.__data__={hash:new X,map:new(Q||Y),string:new X}},Z.prototype.delete=function(e){return ie(this,e).delete(e)},Z.prototype.get=function(e){return ie(this,e).get(e)},Z.prototype.has=function(e){return ie(this,e).has(e)},Z.prototype.set=function(e,t){return ie(this,e).set(e,t),this},ee.prototype.add=ee.prototype.push=function(e){return this.__data__.set(e,y),this},ee.prototype.has=function(e){return this.__data__.has(e)};var ae=U&&1/I(new U([,-0]))[1]==1/0?function(e){return new U(e)}:function(){};function ie(e,t){var n,r,a=e.__data__;return("string"==(r=h(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function oe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return re(n)?n:void 0}function se(e){return pe(e)||function(e){return de(e)&&B.call(e,"callee")&&(!J.call(e,"callee")||T.call(e)==m)}(e)||!!(H&&e&&e[H])}var le,ce,ue=(le=function(e){return function(e,t,n){var r=-1,a=k,i=e.length,o=!0,s=[],l=s;if(n)o=!1,a=E;else if(i>=200){var c=t?null:ae(e);if(c)return I(c);o=!1,a=A,l=new ee}else l=t?[]:s;e:for(;++r<i;){var u=e[r],p=t?t(u):u;if(u=n||0!==u?u:0,o&&p==p){for(var g=l.length;g--;)if(l[g]===p)continue e;t&&l.push(p),s.push(u)}else a(l,p,n)||(l!==s&&l.push(p),s.push(u))}return s}(ne(e,1,de,!0))},ce=K(void 0===ce?le.length-1:ce,0),function(){for(var e=arguments,t=-1,n=K(e.length-ce,0),r=Array(n);++t<n;)r[t]=e[ce+t];t=-1;for(var a=Array(ce+1);++t<ce;)a[t]=e[t];return a[ce]=r,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(le,this,a)});var pe=Array.isArray;function ge(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=_}(e.length)&&!fe(e)}function de(e){return function(e){return!!e&&"object"==h(e)}(e)&&ge(e)}function fe(e){var t=he(e)?T.call(e):"";return t==j||t==O}function he(e){var t=h(e);return!!e&&("object"==t||"function"==t)}var be=v(ue);const ve=e=>e[0],ye=e=>e.slice(-1)[0],_e=e=>e-Math.floor(e)!=0,me=({pagesCount:e,currentPage:t,innerLimit:n,outerLimit:r})=>{if(null==e)return[];const a=[...Array(e).keys()].map((e=>e+1));if(0===n||0===r)return a;const i=a.slice(0,r),o=a.slice(1).slice(-r),s=ye(i),l=ve(o),c=(()=>{const e=t-n;return e<s?a.slice(s,t-1):a.slice(e-1,t-1)})(),u=be([...i],[...c]),p=ve(c)>s+1,g=(()=>{const e=t+n;return e>l?a.slice(t+1,l):a.slice(t,e)})(),h=be([...g],[...o]),b=ye(g)<l-1;return(e=>e.reduce(((e,t)=>[...e,...t===s&&p?[s,d]:t===l&&b?[f,l]:[t]]),[]))(be([...u],[t],[...h]))},je=t({state:{currentPage:g.currentPage,isDisabled:g.isDisabled,pagesCount:0},actions:{setCurrentPage:()=>null,setIsDisabled:()=>null,changePage:()=>null}}),Oe=({children:t,onPageChange:a,pagesCount:i,currentPage:o,isDisabled:s})=>{const[l,c]=n(g.currentPage),[u,p]=n(g.isDisabled),[d,f]=n(0);r((()=>{p(s)}),[s]),r((()=>{f(i)}),[i]),r((()=>{_e(o)?console.error("Ajna pagination -> passed down currentPage has to be a whole number"):o<1?console.error("Ajna pagination -> passed down currentPage can't be lower than 1"):null!=o&&o!==l&&c(o)}),[l,o]);const h={currentPage:l,pagesCount:d,isDisabled:u},b={setCurrentPage:c,setIsDisabled:p,changePage:e=>{c(e),a(e)}};return e.createElement(je.Provider,{value:{state:h,actions:b}},t)},Pe=({children:t,pagesCount:n,isDisabled:r=g.isDisabled,currentPage:a=g.currentPage,onPageChange:i})=>e.createElement(Oe,{currentPage:a,isDisabled:r,pagesCount:n,onPageChange:i},t),De=({total:e,initialState:t,pagesCount:i,limits:o})=>{var s,l;const[c,u]=n(null!==(s=t.pageSize)&&void 0!==s?s:0),[p,g]=n(t.currentPage),[d,f]=n(null!==(l=t.isDisabled)&&void 0!==l&&l),h=a((()=>{var e;return null!==(e=null==o?void 0:o.inner)&&void 0!==e?e:0}),[o]),b=a((()=>{var e;return null!==(e=null==o?void 0:o.outer)&&void 0!==e?e:0}),[o]),v=a((()=>null==c?0:p*c-c),[p,c]),y=a((()=>null!=i?i:null==e||null==c?0:Math.ceil(e/c)),[e,c,i]),_=a((()=>me({currentPage:p,innerLimit:h,outerLimit:b,pagesCount:y})),[p,h,b,y]);return r((()=>{null!=h&&_e(h)&&console.error("Ajna pagination -> passed down inner limit has to be a whole number"),null!=b&&_e(b)&&console.error("Ajna pagination -> passed down outerLimit limit has to be a whole number")}),[h,o,b]),{offset:v,currentPage:p,setCurrentPage:g,pageSize:c,setPageSize:u,isDisabled:d,setIsDisabled:f,pages:_,pagesCount:y}};function Ce(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}"function"==typeof SuppressedError&&SuppressedError;const we=t=>{var{children:n,isDisabled:r}=t,o=Ce(t,["children","isDisabled"]);const{actions:s,state:c}=i(je),{changePage:u}=s,{currentPage:p,pagesCount:g,isDisabled:d}=c,f=a((()=>p>g-1),[p,g]),h=a((()=>f||(null!=r?r:d)),[f,r,d]),b=a((()=>Object.assign(Object.assign({},o),{isDisabled:h})),[o,h]),v=()=>{f||u(p+1)};return e.createElement(l,Object.assign({className:"pagination-next"},(e=>{var{onClick:t,isDisabled:n}=e,r=Ce(e,["onClick","isDisabled"]);return Object.assign(Object.assign({},r),{"aria-label":"Next page","aria-disabled":n,isDisabled:n,onClick:e=>{n||null==t||t(e),v()}})})(b)),n)},ke=()=>i(je),Ee=t=>{var n=Ce(t,[]);return e.createElement("svg",Object.assign({fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24"},n),e.createElement("polyline",{points:"15 18 9 12 15 6"}))},Se=t=>{var n=Ce(t,[]);return e.createElement("svg",Object.assign({fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24"},n),e.createElement("polyline",{points:"9 18 15 12 9 6"}))},xe=t=>{var n=Ce(t,[]);return e.createElement("svg",Object.assign({fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24"},n),e.createElement("circle",{cx:"12",cy:"12",r:"1"}),e.createElement("circle",{cx:"19",cy:"12",r:"1"}),e.createElement("circle",{cx:"5",cy:"12",r:"1"}))},Ae={cursor:"pointer",minW:"auto",justifyContent:"center",pos:"relative",alignItems:"center",bg:"transparent",px:1,sx:{_hover:{".call-to-action":{opacity:1}}}},Ie={h:4,w:4,bg:"inherit",color:"inherit"},Le={m:"auto",pos:"absolute",top:0,left:0,right:0,bottom:0,opacity:0,transition:"all  cubic-bezier(0.4, 1, 0.9, 0.6) 0.3s"},ze=t=>{var{hoverIcon:n,separatorPosition:r,isDisabled:i,jumpSize:o=g.jumpSize}=t,s=Ce(t,["hoverIcon","separatorPosition","isDisabled","jumpSize"]);const{actions:p,state:d}=ke(),{currentPage:f,pagesCount:h,isDisabled:b}=d,{changePage:v}=p,y=(e=>"left"===e?f-o>0:"right"===e&&f+o<h+1)(r),_=a((()=>!y||(null!=i?i:b)),[y,i,b]),m=a((()=>"left"===r?"backwards":"forward"),[r]),j=a((()=>Object.assign(Object.assign({},Ae),s)),[s]),O=()=>{if(_)return;const e=(e=>"left"===e?f-o:"right"===e?f+o:0)(r);v(e)};return e.createElement(c,{as:"li"},e.createElement(l,Object.assign({className:"pagination-separator"},(e=>{var{onClick:t}=e,n=Ce(e,["onClick"]);return Object.assign(Object.assign({},n),{"aria-label":`Jump pages ${m}`,"aria-disabled":_,onClick:e=>{_||null==t||t(e),O()}})})(j)),e.createElement(u,Object.assign({as:xe},Ie)),e.createElement(u,Object.assign({as:n,className:"call-to-action"},Ie,Le))))},$e={minW:"auto",px:1,cursor:"pointer"},Ne=t=>{var n,r,i,{page:o,isDisabled:s,separator:u,_current:p={}}=t,g=Ce(t,["page","isDisabled","separator","_current"]);const{actions:h,state:b}=ke(),{changePage:v}=h,{currentPage:y,isDisabled:_}=b,m=a((()=>y===o),[y,o]),j=a((()=>null!=s?s:_),[_,s]),O=a((()=>{var e,t;return null!==(t=null===(e=null==u?void 0:u.props)||void 0===e?void 0:e.isDisabled)&&void 0!==t?t:_}),[_,null===(n=null==u?void 0:u.props)||void 0===n?void 0:n.isDisabled]),P=a((()=>m?p:{}),[m,p]),D=a((()=>o===d),[o]),C=a((()=>o===f),[o]),w=a((()=>m?`Current page, page ${o}`:`Go to page ${o}`),[m,o]),k=a((()=>Object.assign(Object.assign(Object.assign(Object.assign({},$e),g),P),{isDisabled:j})),[g,P,j]);return D?e.createElement(ze,Object.assign({hoverIcon:Ee,isDisabled:O,separatorPosition:"left"},null!==(r=null==u?void 0:u.props)&&void 0!==r?r:{})):C?e.createElement(ze,Object.assign({hoverIcon:Se,isDisabled:O,separatorPosition:"right"},null!==(i=null==u?void 0:u.props)&&void 0!==i?i:{})):e.createElement(c,{as:"li"},e.createElement(l,Object.assign({className:"pagination-page"},(e=>{var{onClick:t,isDisabled:n}=e,r=Ce(e,["onClick","isDisabled"]);return Object.assign(Object.assign({},r),{"aria-disabled":n,"aria-current":m,"aria-label":w,isDisabled:n,onClick:e=>{n||null==t||t(e),v(o)}})})(k)),o))},Me=t=>{var{children:n,isDisabled:r}=t,i=Ce(t,["children","isDisabled"]);const{actions:o,state:s}=ke(),{changePage:c}=o,{currentPage:u,isDisabled:p}=s,g=a((()=>1===u),[u]),d=a((()=>g||(null!=r?r:p)),[g,r,p]),f=a((()=>Object.assign(Object.assign({},i),{isDisabled:d})),[i,d]),h=()=>{g||c(u-1)};return e.createElement(l,Object.assign({className:"pagination-previous"},(e=>{var{onClick:t,isDisabled:n}=e,r=Ce(e,["onClick","isDisabled"]);return Object.assign(Object.assign({},r),{"aria-label":"Previous page","aria-disabled":n,isDisabled:n,onClick:e=>{n||null==t||t(e),h()}})})(f)),n)},We=t=>{var{children:n}=t,r=Ce(t,["children"]);return e.createElement(c,Object.assign({"aria-label":"pagination navigation",as:"nav",className:"pagination-container"},r),n)},Fe=t=>{var{children:n,separator:r}=t,a=Ce(t,["children","separator"]);return e.createElement(p,Object.assign({isInline:!0,as:"ol",className:"pagination-page-group",spacing:1},a),o.map(n,(e=>{if(null!=e)return s(e,{separator:r})})))};export{Pe as Pagination,We as PaginationContainer,we as PaginationNext,Ne as PaginationPage,Fe as PaginationPageGroup,Me as PaginationPrevious,ze as PaginationSeparator,me as generatePages,De as usePagination};
